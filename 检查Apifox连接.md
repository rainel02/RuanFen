# Apifox 连接检查清单

## 📋 需要检查的文件

### 1. `vite.config.ts` - Vite 代理配置
- ✅ 检查 `target` 是否为 `http://127.0.0.1:4523`
- ⚠️ **重要**：检查 `rewrite` 中的项目 ID 是否正确
- 当前配置：`/m1/7413325-7146674-6711292`（这是队友的项目 ID）

### 2. `src/api/request.ts` - Axios 配置
- ✅ baseURL 在开发环境应该是 `/api`
- ✅ 会通过 Vite 代理转发

### 3. Apifox 客户端
- ⚠️ **重要**：确保 Mock 服务已启动
- ⚠️ **重要**：检查端口是否为 4523
- ⚠️ **重要**：确认项目 ID 是否正确

## 🔍 常见问题

### 问题1：项目 ID 不匹配
**症状**：请求返回 404
**解决**：在 `vite.config.ts` 第 33 行，将项目 ID 替换为你的

### 问题2：Apifox Mock 服务未启动
**症状**：请求失败，无法连接
**解决**：在 Apifox 客户端中启动 Mock 服务

### 问题3：端口不匹配
**症状**：请求失败，无法连接
**解决**：检查 Apifox Mock 服务端口，如果不是 4523，需要修改 `vite.config.ts` 中的 `target`

### 问题4：路径不匹配
**症状**：请求返回 404
**解决**：检查 Apifox 中的接口路径是否与代码中的路径一致

## 🧪 测试步骤

1. **检查 Apifox Mock 服务**
   - 打开 Apifox 客户端
   - 确认 Mock 服务已启动（通常显示为绿色）
   - 记录 Mock 服务地址和端口

2. **检查项目 ID**
   - 在 Apifox 中查看 Mock 服务地址
   - 格式：`http://127.0.0.1:4523/m1/你的项目ID/api`
   - 复制项目 ID

3. **更新配置**
   - 打开 `vite.config.ts`
   - 将第 33 行的项目 ID 替换为你的

4. **重启开发服务器**
   ```bash
   # 停止当前服务器（Ctrl+C）
   npm run dev
   ```

5. **测试连接**
   - 打开浏览器控制台
   - 尝试登录或注册
   - 查看网络请求和代理日志

## 📝 调试信息

在浏览器控制台应该能看到：
- `🚀 开发环境使用代理: /api`
- `🌐 最终 API Base URL: /api`
- `📤 POST /api/auth/login`
- `[Vite Proxy] POST /api/auth/login -> /m1/你的项目ID/auth/login`

如果看不到这些日志，说明请求没有发出或代理没有工作。





